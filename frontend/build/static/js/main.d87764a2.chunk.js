(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,r){},127:function(e,t,r){},130:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(89),c=r.n(o),l=r(136),i=r(15),u=r(3),s=r(137),p=r(102),m=function(){return n.a.createElement("footer",null,n.a.createElement(l.a,null,n.a.createElement(s.a,null,n.a.createElement(p.a,{className:"text-center py-3"},"CopyRight \xa9 Fayeduoduo"))))},d=r(10),f=r(145),h=r(149),E=r(142),y=r(20),v=r(12),g=r(143);function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(C){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new R(n||[]);return a(c,"_invoke",{value:_(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(I([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function _(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return T()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function O(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(S.prototype),i(S.prototype,c,function(){return this}),e.AsyncIterator=S,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new S(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=I,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;w(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:I(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var S=function(){return function(){var e=Object(v.a)(b().mark(function e(t){return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),localStorage.removeItem("shippingAddress"),t({type:"USER_LOGINOUT"}),t({type:"USER_LIST_REST"}),t({type:"USER_DETAILS_RESET"}),t({type:"ORDER_LIST_MY_RESET"});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(v.a)(b().mark(function t(r,a){var n,o,c,l,i;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DETAILS_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.get("/api/users/".concat(e),c);case 6:l=t.sent,i=l.data,r({type:"USER_DETAILS_SUCCESS",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,r){return t.apply(this,arguments)}}()},O=r(5),L=r(144),w=r(115),R=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(u.O)();return n.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),r.trim()?c("/search/".concat(r)):c("/")},className:"flex"},n.a.createElement(L.a.Control,{type:"text",placeholder:"search product...",className:"search",name:"search",size:"sm",onChange:function(e){return o(e.target.value)}}),n.a.createElement(w.a,{type:"submit",variant:"outline-success",size:"sm"},"submit"))},I=function(){var e=Object(d.b)(),t=Object(u.O)(),r=Object(d.c)(function(e){return e.userLogin}).userInfo;return n.a.createElement("header",null,n.a.createElement(f.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0},n.a.createElement(l.a,null,n.a.createElement(y.LinkContainer,{to:"/"},n.a.createElement(f.a.Brand,null,"DuoDuo Store")),n.a.createElement(R,null),n.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),n.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},n.a.createElement(h.a,{className:"ml-auto"},n.a.createElement(y.LinkContainer,{to:"/cart",style:{marginRight:"5px"}},n.a.createElement(h.a.Link,null,n.a.createElement("i",{className:"fas fa-shopping-cart"}),"Shop")),r?n.a.createElement(E.a,{title:r.name,id:"username"},n.a.createElement(y.LinkContainer,{to:"/profile"},n.a.createElement(E.a.Item,null,"Profile")),n.a.createElement(E.a.Item,{onClick:function(){e(S()),t("/login")}},"Exit")):n.a.createElement(y.LinkContainer,{to:"/login"},n.a.createElement(h.a.Link,null,n.a.createElement("i",{className:"fas fa-user"}),"Login")),r&&r.isAdmin&&n.a.createElement(E.a,{title:"Admin",id:"adminmenu"},n.a.createElement(y.LinkContainer,{to:"/admin/userlist"},n.a.createElement(E.a.Item,null,"Users list")),n.a.createElement(y.LinkContainer,{to:"/admin/productlist"},n.a.createElement(E.a.Item,null,"Product list")),n.a.createElement(y.LinkContainer,{to:"/admin/orderlist"},n.a.createElement(E.a.Item,null,"Order list"))))))))},T=function(e){var t=e.value,r=e.text,a=e.color;return n.a.createElement("div",{className:"rating"},n.a.createElement("span",null,n.a.createElement("i",{style:{color:a},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"}),n.a.createElement("i",{style:{color:a},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"}),n.a.createElement("i",{style:{color:a},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"}),n.a.createElement("i",{style:{color:a},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"}),n.a.createElement("i",{style:{color:a},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})),n.a.createElement("span",{className:"comments"},r||""))};T.defaultProps={color:"rgb(244, 212, 3)"};var C=T,j=r(148),x=function(e){var t=e.product;return n.a.createElement(j.a,{className:"my-3 py-3 rounded"},n.a.createElement(i.Link,{to:"/products/".concat(t._id)},n.a.createElement(j.a.Img,{src:t.image,variant:"top"})),n.a.createElement(j.a.Body,null,n.a.createElement(i.Link,{to:"/products/".concat(t._id)},n.a.createElement(j.a.Title,null,t.name)),n.a.createElement(j.a.Text,{as:"div"},n.a.createElement(C,{value:t.rating,text:"".concat(t.numReviews," comments")})),n.a.createElement(j.a.Text,{as:"h3"},"\uffe5",t.price)))},k=r(147),A=r(140),U=r(138),P=function(){return n.a.createElement(U.a,{animation:"border",role:"status",variant:"primary",style:{width:"100px",height:"100px",margin:"100px auto",display:"block"}},n.a.createElement("span",{className:"sr-only"},"Loading..."))},D=r(139),N=function(e){var t=e.variant,r=e.children;return n.a.createElement(D.a,{variant:t,className:"mt-2"},r)};N.defaultProps={variant:"info"};var G=N;function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(T){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new w(n||[]);return a(c,"_invoke",{value:S(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(R([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=_(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function _(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(v.a)(F().mark(function r(a){var n,o;return F().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"PRODUCT_LIST_REQUESTS"}),r.next=4,g.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:n=r.sent,o=n.data,a({type:"PRODUCT_LIST_SUCCESS",payload:o}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a({type:"PRODUCT_LIST_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 12:case"end":return r.stop()}},r,null,[[0,9]])}));return function(e){return r.apply(this,arguments)}}()},Q=function(e){return function(){var t=Object(v.a)(F().mark(function t(r){var a,n;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DETAILS_REQUESTS"}),t.next=4,g.a.get("/api/products/".concat(e));case 4:a=t.sent,n=a.data,r({type:"PRODUCT_DETAILS_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},B=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e.productTopRated}),r=t.loading,o=t.error,c=t.products;return Object(a.useEffect)(function(){e(function(){var e=Object(v.a)(F().mark(function e(t){var r,a;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_REQUESTS"}),e.next=4,g.a.get("/api/products/top");case 4:r=e.sent,a=r.data,t({type:"PRODUCT_TOP_SUCCESS",payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}())},[e]),n.a.createElement("div",{style:{marginBottom:"2rem"}},r?n.a.createElement(P,null):o?n.a.createElement(G,{variant:"danger"},o):n.a.createElement(k.a,{pause:"hover",className:"bg-dark"},c.map(function(e){return n.a.createElement(k.a.Item,{key:e._id},n.a.createElement(i.Link,{to:"/products/".concat(e._id)},n.a.createElement(A.a,{src:e.image,alt:e.name,fluid:!0,className:"d-block w-20"}),n.a.createElement(k.a.Caption,{className:"carousel-caption"},n.a.createElement("h3",{style:{color:"#fff"}},e.name," (\uffe5",e.price,")"))))})))},Y=r(18),V=r(150),z=function(e){var t=e.pages,r=e.page,a=e.isAdmin,o=void 0!==a&&a,c=e.keyword,l=void 0===c?"":c;return t>1&&n.a.createElement(V.a,null,Object(Y.a)(Array(t).keys()).map(function(e){return n.a.createElement(y.LinkContainer,{key:e+1,to:o?"/admin/productlist/".concat(e+1):l?"/search/".concat(l,"/page/").concat(e+1):"/page/".concat(e+1)},n.a.createElement(V.a.Item,{active:e+1===r},e+1))}))},W=r(116),J=function(e){var t=e.title,r=e.description,a=e.keywords;return n.a.createElement(W.a,null,n.a.createElement("title",null,t),n.a.createElement("meta",{name:"description",content:r}),n.a.createElement("meta",{name:"keyword",content:a}))};J.defaultProps={title:"Welcome to Duoduo Mobile Shop",description:"shopping",keywords:"E-commerce Mobile platform"};var q=J,H=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e.productList}),r=t.loading,o=t.payload,c=t.products,l=t.pages,m=t.page,f=Object(u.T)(),h=f.keyword;console.log(h);var E=f.pageNumber||1;return Object(a.useEffect)(function(){e(M(h,E))},[e,h,E]),n.a.createElement(n.a.Fragment,null,n.a.createElement(q,null),h?n.a.createElement(i.Link,{to:"/"},n.a.createElement(w.a,{className:"btn-dark"},"Back")):n.a.createElement(B,null),n.a.createElement("h1",{style:{marginTop:"20px"}},"Products Display"),r?n.a.createElement(P,null):o?n.a.createElement(G,{variant:"danger"},o," "):n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,c.map(function(e){return n.a.createElement(p.a,{sm:10,md:6,lg:4,xl:3,key:e._id},n.a.createElement(x,{product:e}))})),n.a.createElement(z,{pages:l,page:m,keyword:h||"",style:{alignItems:"center"}})))},X=r(151),K=function(){var e=Object(u.T)().id,t=Object(u.O)(),r=Object(d.b)(),o=Object(d.c)(function(e){return e}),c=o.productDetails,l=o.userLogin,m=c.loading,f=c.payload,h=c.product,E=l.userInfo,y=Object(d.c)(function(e){return e.productReviewCreate}),b=y.loading,S=y.success,_=y.error,R=Object(a.useState)(1),I=Object(O.a)(R,2),T=I[0],x=I[1],k=Object(a.useState)(0),U=Object(O.a)(k,2),D=U[0],N=U[1],M=Object(a.useState)(""),B=Object(O.a)(M,2),V=B[0],z=B[1];Object(a.useEffect)(function(){S&&(alert("comment is successfully submited"),N(0),z("")),h._id&&h._id===e||(r({type:"PRODUCT_DETAILS_RESET"}),r(Q(e)),r({type:"PRODUCT_CREATE_REVIEW_RESET"}))},[r,e,S,h._id]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.Link,{to:"/",className:"btn btn-dark rounded"},"Back"),m?n.a.createElement(P,null):f?n.a.createElement(G,{variant:"danger"},f):n.a.createElement("div",null,n.a.createElement(q,{title:h.name}),n.a.createElement(s.a,null,n.a.createElement(p.a,{md:6},n.a.createElement(A.a,{src:h.image,alt:h.name,fluid:!0})),n.a.createElement(p.a,{md:3},n.a.createElement(X.a,{variant:"flush"},n.a.createElement(X.a.Item,null,n.a.createElement("h3",null,h.name)),n.a.createElement(X.a.Item,null,n.a.createElement(C,{value:h.rating,text:"".concat(h.numReviews," comments")})),n.a.createElement(X.a.Item,null,n.a.createElement("p",null,"Price: \uffe5",h.price)),n.a.createElement(X.a.Item,null,n.a.createElement("p",null,h.description)))),n.a.createElement(p.a,{md:3},n.a.createElement(j.a,null,n.a.createElement(X.a,{variant:"flush"},n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Price"),n.a.createElement(p.a,null,n.a.createElement("strong",null,"\uffe5",h.price)))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"In Stock: "),n.a.createElement(p.a,null,n.a.createElement("strong",null,h.countInStock>0?"Yes":"sold out")))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,{className:"mt-2"},"Qunatity"),n.a.createElement(p.a,null,n.a.createElement(L.a.Control,{as:"select",value:T,onChange:function(e){x(e.target.value)}},Object(Y.a)(Array(h.countInStock).keys()).map(function(e){return n.a.createElement("option",{key:e+1,value:e+1},e+1)}))))),n.a.createElement(X.a.Item,null,n.a.createElement(w.a,{className:"btn-block",disabled:0===h.countInStock,type:"button",onClick:function(){t("/cart/".concat(e,"?qty=").concat(T))}},"Add to Cart")))))),n.a.createElement(s.a,null,n.a.createElement(p.a,{md:6},n.a.createElement("h3",null,"Comments"),h.reviews&&0===h.reviews.length&&n.a.createElement(G,null,"No Comments"),n.a.createElement(X.a,{variant:"flush"},h.reviews&&h.reviews.map(function(e){return n.a.createElement(X.a.Item,{key:e._id},n.a.createElement("strong",null,e.name),n.a.createElement(C,{value:e.rating,style:{margin:"10px"}}),n.a.createElement("p",null,e.createdAt.substring(0,10)),n.a.createElement("p",null,e.comment))}),n.a.createElement(X.a.Item,null,n.a.createElement("h4",null,"Add Comment"),b&&n.a.createElement(P,null),_&&n.a.createElement(G,{variant:"danger"},_),E?n.a.createElement(L.a,{onSubmit:function(t){var a,n;t.preventDefault(),r((a=e,n={rating:D,comment:V},function(){var e=Object(v.a)(F().mark(function e(t,r){var o,c,l,i,u;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REVIEW_REQUESTS"}),o=r(),c=o.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,g.a.post("/api/products/".concat(a,"/reviews"),n,l);case 6:i=e.sent,u=i.data,t({type:"PRODUCT_CREATE_REVIEW_SUCCESS",payload:u}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_REVIEW_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,r){return e.apply(this,arguments)}}()))}},n.a.createElement(L.a.Group,null,n.a.createElement(L.a.Label,null,"Score"),n.a.createElement(L.a.Control,{as:"select",value:D,onChange:function(e){return N(e.target.value)},style:{marginBottom:"15px"}},n.a.createElement("option",{value:""},"Choose score"),n.a.createElement("option",{value:"1"},"1--Very Dissatisfied"),n.a.createElement("option",{value:"2"},"2--Dissatisfied"),n.a.createElement("option",{value:"3"},"3--Ok"),n.a.createElement("option",{value:"4"},"4--Satisfiedsatisified"),n.a.createElement("option",{value:"5"},"5--Very Satisfied"))),n.a.createElement(L.a.Group,{controlId:"comment",style:{marginTop:"10px",marginBottom:"10px"}},n.a.createElement(L.a.Control,{as:"textarea",row:"3",value:V,onChange:function(e){return z(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary"},"Submit")):n.a.createElement(G,null,"Please ",n.a.createElement(i.Link,{to:"/login"},"login"))))))))};function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(T){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new w(n||[]);return a(c,"_invoke",{value:S(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(R([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=_(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function _(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var $=function(e,t){return function(){var r=Object(v.a)(Z().mark(function r(a,n){var o,c;return Z().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,g.a.get("/api/products/".concat(e));case 2:o=r.sent,c=o.data,a({type:"CART_ADD_ITEM",payload:{product:c._id,name:c.name,image:c.image,price:c.price,countInStock:c.countInStock,qty:t}}),localStorage.setItem("CartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()},ee=function(){var e=Object(u.T)().id,t=Object(u.L)();console.log(t);var r=t.search?Number(t.search.split("=")[1]):1,o=Object(u.O)(),c=Object(d.b)(),l=Object(d.c)(function(e){return e.cart}),m=Object(d.c)(function(e){return e.userLogin}).userInfo,f=l.cartItems;Object(a.useEffect)(function(){e&&c($(e,r))},[c,e,r]);var h=function(e){c(function(e){return function(){var t=Object(v.a)(Z().mark(function t(r,a){return Z().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("CartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()}(e))};return n.a.createElement(s.a,null,n.a.createElement(p.a,{md:8},n.a.createElement("h1",{className:"mb-4"},"Shopping Cart"),0===f.length?n.a.createElement(G,null,"shopping cart is empty",n.a.createElement(i.Link,{to:"/"},n.a.createElement("span",{style:{marginLeft:"5px",color:"blue"}},"Back to Page"))):n.a.createElement(X.a,{variant:"flush"},f.map(function(e){return n.a.createElement(X.a.Item,{key:e.product},n.a.createElement(s.a,null,n.a.createElement(p.a,{md:2},n.a.createElement(A.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(p.a,{md:3,className:"mt-4"},n.a.createElement(i.Link,{to:"/products/".concat(e.id)},e.name)),n.a.createElement(p.a,{md:2,className:"mt-4"},"\uffe5",e.price),n.a.createElement(p.a,{md:2,className:"mt-3"},n.a.createElement(L.a.Control,{as:"select",value:e.qty,onChange:function(t){return c($(e.product,Number(t.target.value)))}},Object(Y.a)(Array(e.countInStock).keys()).map(function(e){return n.a.createElement("option",{key:e+1,value:e+1},e+1)}))),n.a.createElement(p.a,{className:"mt-3"},n.a.createElement(w.a,{type:"button",onClick:function(){return h(e.product)}},n.a.createElement("i",{className:"fas fa-trash"})))))}))),n.a.createElement(p.a,{md:4},n.a.createElement(j.a,null,n.a.createElement(X.a,{variant:"flush"},n.a.createElement(X.a.Item,null,n.a.createElement("h2",null,"Total Qty: ",f.reduce(function(e,t){return e+t.qty},0)),n.a.createElement("h4",null,"Total Price: \uffe5",f.reduce(function(e,t){return e+t.qty*t.price},0))),n.a.createElement(X.a.Item,null,n.a.createElement(w.a,{type:"button",className:"btn-block",disabled:0===f.length,onClick:function(){o(m?"/shipping":"/login")}},"Check Out"))))))},te=function(e){var t=e.children;return n.a.createElement(l.a,null,n.a.createElement(s.a,{className:"justify-content-md-center"},n.a.createElement(p.a,{xs:12,md:6},t)))},re=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),l=Object(O.a)(c,2),m=l[0],f=l[1],h=Object(d.b)(),E=Object(d.c)(function(e){return e.userLogin}),y=Object(d.c)(function(e){return e.cart}).cartItems,S=E.loading,_=E.error,R=E.userInfo,I=Object(u.L)(),T=I.search?I.search.split("=")[1]:"/",C=Object(u.O)();return Object(a.useEffect)(function(){R?C(T):R&&0!==y.length&&C("/shipping")},[C,R,T,y]),n.a.createElement("div",null,n.a.createElement(te,null,n.a.createElement("h1",null,"Login"),_&&n.a.createElement(G,{variant:"danger"},_),S&&n.a.createElement(P,null),n.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var r=Object(v.a)(b().mark(function r(a){var n,o,c;return b().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"USER_LOGIN_REQUEST"}),n={headers:{"Content-Type":"application/json"}},r.next=5,g.a.post("/api/users/login",{email:e,password:t},n);case 5:o=r.sent,c=o.data,a({type:"USER_LOGIN_SUCCESS",payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:"USER_LOGIN_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}},r,null,[[0,11]])}));return function(e){return r.apply(this,arguments)}}()}(r,m))}},n.a.createElement(L.a.Group,{controlId:"email",className:"my-4"},n.a.createElement(L.a.Label,null,"Email: "),n.a.createElement(L.a.Control,{type:"email",placeholder:"please input email",value:r,onChange:function(e){return o(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"password",className:"my-4"},n.a.createElement(L.a.Label,null,"Password: "),n.a.createElement(L.a.Control,{type:"password",placeholder:"please input password",value:m,onChange:function(e){return f(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Login")),n.a.createElement(s.a,{className:"py-3"},n.a.createElement(p.a,null,"New User? ",n.a.createElement(i.Link,{to:T?"/register?redirect=".concat(T):"/register"},"Sign up")))))},ae=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),l=Object(O.a)(c,2),m=l[0],f=l[1],h=Object(a.useState)(""),E=Object(O.a)(h,2),y=E[0],S=E[1],_=Object(a.useState)(""),R=Object(O.a)(_,2),I=R[0],T=R[1],C=Object(a.useState)(null),j=Object(O.a)(C,2),x=j[0],k=j[1],A=Object(d.b)(),U=Object(d.c)(function(e){return e.userRegister}),D=U.loading,N=U.error,F=U.userInfo,M=Object(u.L)(),Q=M.search?M.search.split("=")[1]:"/",B=Object(u.O)();return Object(a.useEffect)(function(){F&&B(Q)},[B,F,Q]),n.a.createElement("div",null,n.a.createElement(te,null,n.a.createElement("h1",null,"Register"),x&&n.a.createElement(G,{variant:"danger"},x),N&&n.a.createElement(G,{variant:"danger"},N),D&&n.a.createElement(P,null),n.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),y!==I?k("password is not match"):A(function(e,t,r){return function(){var a=Object(v.a)(b().mark(function a(n){var o,c,l;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_REGISTER_REQUEST"}),o={headers:{"Content-Type":"application/json"}},a.next=5,g.a.post("/api/users",{name:e,email:t,password:r},o);case 5:c=a.sent,l=c.data,n({type:"USER_REGISTER_SUCCESS",payload:l}),n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),n({type:"USER_REGISTER_FAIL",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e){return a.apply(this,arguments)}}()}(r,m,y))}},n.a.createElement(L.a.Group,{controlId:"name",className:"my-4"},n.a.createElement(L.a.Label,null,"Name: "),n.a.createElement(L.a.Control,{type:"name",placeholder:"please input name",value:r,onChange:function(e){return o(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"email",className:"my-4"},n.a.createElement(L.a.Label,null,"Email: "),n.a.createElement(L.a.Control,{type:"email",placeholder:"please input email",value:m,onChange:function(e){return f(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"password",className:"my-4"},n.a.createElement(L.a.Label,null,"Password: "),n.a.createElement(L.a.Control,{type:"password",placeholder:"please input password",value:y,onChange:function(e){return S(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"confirmPassword",className:"my-4"},n.a.createElement(L.a.Label,null,"Confirm password: "),n.a.createElement(L.a.Control,{type:"password",placeholder:"please confirm password",value:I,onChange:function(e){return T(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Sign up")),n.a.createElement(s.a,{className:"py-3"},n.a.createElement(p.a,null,"Exist User? ",n.a.createElement(i.Link,{to:Q?"/login?redirect=".concat(Q):"/register"},"Login")))))},ne=r(141);function oe(){oe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(T){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new w(n||[]);return a(c,"_invoke",{value:S(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(R([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=_(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function _(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var ce=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),l=Object(O.a)(c,2),i=l[0],m=l[1],f=Object(a.useState)(""),h=Object(O.a)(f,2),E=h[0],S=h[1],R=Object(a.useState)(""),I=Object(O.a)(R,2),T=I[0],C=I[1],j=Object(a.useState)(null),x=Object(O.a)(j,1)[0],k=Object(d.b)(),A=Object(d.c)(function(e){return e}),U=A.userDetails,D=A.userLogin,N=A.userUpdateProfile,F=A.orderListMy,M=U.loading,Q=U.error,B=U.user,Y=D.userInfo,V=N.success,z=F.loading,W=F.error,J=F.orders,q=Object(u.O)();Object(a.useEffect)(function(){Y?!B.name||V?(k({type:"USER_UPDATE_PROFILE_RESET"}),k(_("profile")),k(function(){var e=Object(v.a)(oe().mark(function e(t,r){var a,n,o,c,l;return oe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_LIST_MY_REQUEST"}),a=r(),n=a.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.get("/api/orders/myorders",o);case 6:c=e.sent,l=c.data,t({type:"ORDER_LIST_MY_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_LIST_MY_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,r){return e.apply(this,arguments)}}())):(o(B.name),m(B.email)):q("/login")},[q,k,Y,B,V]);return n.a.createElement(s.a,null,n.a.createElement(p.a,{md:3},n.a.createElement("h2",null,"user profile"),V&&n.a.createElement(G,{variant:"success"},"update successfully!!"),x&&n.a.createElement(G,{variant:"danger"},x),Q&&n.a.createElement(G,{variant:"danger"},Q),M&&n.a.createElement(P,null),n.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),k(function(e){return function(){var t=Object(v.a)(b().mark(function t(r,a){var n,o,c,l,i;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_UPDATE_PROFILE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.put("/api/users/profile",e,c);case 6:l=t.sent,i=l.data,r({type:"USER_UPDATE_PROFILE_SUCCESS",payload:i}),r({type:"USER_LOGIN_SUCCESS",payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:"USER_DEUPDATE_PROFILE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e,r){return t.apply(this,arguments)}}()}({id:B._id,name:r,email:i,password:E}))}},n.a.createElement(L.a.Group,{controlId:"name",className:"my-4"},n.a.createElement(L.a.Label,null,"Name: "),n.a.createElement(L.a.Control,{type:"name",placeholder:"please input name",value:r,onChange:function(e){return o(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"email",className:"my-4"},n.a.createElement(L.a.Label,null,"Email: "),n.a.createElement(L.a.Control,{type:"email",placeholder:"please input email",value:i,onChange:function(e){return m(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"password",className:"my-4"},n.a.createElement(L.a.Label,null,"Password: "),n.a.createElement(L.a.Control,{type:"password",placeholder:"please input password",value:E,onChange:function(e){return S(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"confirmPassword",className:"my-4"},n.a.createElement(L.a.Label,null,"Confirm password: "),n.a.createElement(L.a.Control,{type:"password",placeholder:"please confirm password",value:T,onChange:function(e){return C(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Update"))),n.a.createElement(p.a,{md:9,className:"px-5"},n.a.createElement("h2",null,"Order Summary"),z?n.a.createElement(P,null):W?n.a.createElement(G,{variant:"danger"},W):n.a.createElement(ne.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",style:{textAlign:"center",verticalAlign:"middle"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"order Date"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Payment"),n.a.createElement("th",null,"Deliver"),n.a.createElement("th",null))),n.a.createElement("tbody",null,J.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.createdAt.substring(0,10)),n.a.createElement("td",null,e.totalPrice),n.a.createElement("td",null,e.isPaidAt?n.a.createElement("p",{style:{color:"green"}},e.paidAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?n.a.createElement("p",{style:{color:"green"}},e.deliveredAt):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(y.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(w.a,{size:"sm",variant:"secondary"}," Details"))))})))))},le=function(e){var t=e.step1,r=e.step2,a=e.step3,o=e.step4;return n.a.createElement(h.a,{className:"justify-content-center mb-4"},t?n.a.createElement(y.LinkContainer,{to:"/login"},n.a.createElement(h.a.Link,null,"Login")):n.a.createElement(h.a.Link,{disabled:!0},"login"),r?n.a.createElement(y.LinkContainer,{to:"/shipping"},n.a.createElement(h.a.Link,null,"Shipping Address")):n.a.createElement(h.a.Link,{disabled:!0},"Shipping"),a?n.a.createElement(y.LinkContainer,{to:"/payment"},n.a.createElement(h.a.Link,null,"payment")):n.a.createElement(h.a.Link,{disabled:!0},"payment"),o?n.a.createElement(y.LinkContainer,{to:"/placeorder"},n.a.createElement(h.a.Link,null,"place order")):n.a.createElement(h.a.Link,{disabled:!0},"place order"))},ie=function(){var e=Object(d.c)(function(e){return e.cart}).shippingAddress,t=Object(a.useState)(e.street),r=Object(O.a)(t,2),o=r[0],c=r[1],l=Object(a.useState)(e.apt),i=Object(O.a)(l,2),s=i[0],p=i[1],m=Object(a.useState)(e.city),f=Object(O.a)(m,2),h=f[0],E=f[1],y=Object(a.useState)(e.postcode),g=Object(O.a)(y,2),b=g[0],S=g[1],_=Object(a.useState)(e.province),R=Object(O.a)(_,2),I=R[0],T=R[1],C=Object(a.useState)(e.country),j=Object(O.a)(C,2),x=j[0],k=j[1],A=Object(u.O)(),U=Object(d.b)();return n.a.createElement(te,null,n.a.createElement(le,{step1:!0,step2:!0}),n.a.createElement("h1",null,"Shipping Address"),n.a.createElement(L.a,{onSubmit:function(e){var t;e.preventDefault(),U((t={street:o,apt:s,city:h,province:I,postcode:b,country:x},function(){var e=Object(v.a)(Z().mark(function e(r){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"CART_SAV_SHIPPING_ADDRESS",payload:t}),localStorage.setItem("shippingAddress",JSON.stringify(t));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),A("/payment")}},n.a.createElement(L.a.Group,{controlId:"street",className:"my-4"},n.a.createElement(L.a.Label,null,"Street: "),n.a.createElement(L.a.Control,{type:"street",placeholder:"please input street",value:o,onChange:function(e){return c(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"apt",className:"my-4"},n.a.createElement(L.a.Label,null,"Apt No.: "),n.a.createElement(L.a.Control,{type:"apt",placeholder:"please input apt no.",value:s,onChange:function(e){return p(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"city",className:"my-4"},n.a.createElement(L.a.Label,null,"City: "),n.a.createElement(L.a.Control,{type:"city",placeholder:"please input city",value:h,onChange:function(e){return E(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"postcode",className:"my-4"},n.a.createElement(L.a.Label,null,"PostCode: "),n.a.createElement(L.a.Control,{type:"postcode",placeholder:"please input postcode",value:b,onChange:function(e){return S(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"province",className:"my-4"},n.a.createElement(L.a.Label,null,"Province: "),n.a.createElement(L.a.Control,{type:"province",placeholder:"please input province",value:I,onChange:function(e){return T(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"country",className:"my-4"},n.a.createElement(L.a.Label,null,"Country: "),n.a.createElement(L.a.Control,{type:"country",placeholder:"please input country.",value:x,onChange:function(e){return k(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Next Step")))},ue=function(){var e=Object(u.O)(),t=Object(d.b)();Object(d.c)(function(e){return e.cart}).shippingAddress||e("/shipping");var r=Object(a.useState)("Wechat"),o=Object(O.a)(r,2),c=o[0],l=o[1];return n.a.createElement(te,null,n.a.createElement(le,{step1:!0,step2:!0,step3:!0}),n.a.createElement("h1",null,"Payment Methods"),n.a.createElement(L.a,{onSubmit:function(r){var a;r.preventDefault(),t((a=c,function(){var e=Object(v.a)(Z().mark(function e(t){return Z().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CART_SAVE_PAYMENT_METHOD",payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())),e("/placeorder")}},n.a.createElement(L.a.Group,null,n.a.createElement(L.a.Label,{as:"legend"},"Methods"),n.a.createElement(p.a,null,n.a.createElement(L.a.Check,{type:"radio",label:"WeChat",id:"WeChat",name:"paymentMethod",value:"WeChat",checked:!0,onChange:function(e){return l(e.target.value)}})),n.a.createElement(p.a,null,n.a.createElement(L.a.Check,{type:"radio",label:"PayPal",id:"PayPal",name:"paymentMethod",value:"PayPal",onChange:function(e){return l(e.target.value)}}))),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Next Step")))},se=function(){var e=Object(d.c)(function(e){return e.cart}),t=Object(d.b)(),r=Object(d.c)(function(e){return e.orderCreate}),o=r.order,c=r.success,l=r.error,m=Object(u.O)();Object(a.useEffect)(function(){c&&(m("/order/".concat(o._id)),t({type:"ORDER_CREATE_RESET"}),t({type:"USER_DETAILS_RESET"}))},[m,c]);var f=function(e){return(Math.round(100*e)/100).toFixed(2)};return e.itemsPrice=f(e.cartItems.reduce(function(e,t){return e+t.price*t.qty},0)),e.shippingPrice=0!==e.cartItems.length?e.itemsPrice>5e3?0:20:f(0),e.totalPrice=0!==e.cartItems.length?f(Number(e.itemsPrice)+Number(e.shippingPrice)):f(0),n.a.createElement(n.a.Fragment,null,n.a.createElement(le,{step1:!0,step2:!0,step3:!0,step4:!0}),n.a.createElement(s.a,null,n.a.createElement(p.a,{md:8},n.a.createElement(X.a,{variant:"flush"},n.a.createElement(X.a.Item,{className:"mt-3"},n.a.createElement("h2",null,"Shipping Address"),n.a.createElement("p",null,n.a.createElement("strong",null,"Address Info:"),e.shippingAddress.street,",",e.shippingAddress.apt,",",e.shippingAddress.city,",",e.shippingAddress.province,",",e.shippingAddress.postcode,",",e.shippingAddress.country)),n.a.createElement(X.a.Item,{className:"mt-3"},"Payment Method: ",e.paymentMethod),n.a.createElement(X.a.Item,{className:"mt-3"},n.a.createElement("h4",{style:{marginBottom:"1rem"}},"Order Summary"),0===e.cartItems.length?n.a.createElement(G,{varaint:"info"},"Cart is Empty ",n.a.createElement(i.Link,{to:"/"},"Go back to Shopping")):n.a.createElement(X.a,{variant:"flush"},e.cartItems.map(function(e,t){return n.a.createElement(X.a.Item,{key:t},n.a.createElement(s.a,null,n.a.createElement(p.a,{md:2},n.a.createElement(A.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(p.a,{className:"mt-3"},n.a.createElement(i.Link,{to:"/products/".concat(e.product)},e.name)),n.a.createElement(p.a,{md:4,className:"mt-3"},e.qty," X ",e.price," = ",e.qty*e.price)))}))))),n.a.createElement(p.a,{md:4},n.a.createElement(j.a,null,n.a.createElement(X.a,{variant:"flush",className:"mt-3"},n.a.createElement(X.a.Item,null,n.a.createElement("h3",null,"Order Summary")),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Products Price"),n.a.createElement(p.a,null,"\uffe5",e.itemsPrice))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Shipping"),n.a.createElement(p.a,null,"\uffe5",e.shippingPrice))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Total:"),n.a.createElement(p.a,null,"\uffe5",e.totalPrice))),n.a.createElement(X.a.Item,null,l&&n.a.createElement(G,{variant:"danger"},l)),n.a.createElement(X.a.Item,null,n.a.createElement(w.a,{type:"button",className:"btn-block",onClick:function(){var r;t((r={orderItems:e.cartItems,shippingAddress:e.shippingAddress,paymentMethod:e.paymentMethod,itemPrices:e.itemPrice,shippingPrice:e.shippingPrice,totalPrice:e.totalPrice},function(){var e=Object(v.a)(oe().mark(function e(t,a){var n,o,c,l,i;return oe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_CREATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=6,g.a.post("/api/orders",r,c);case 6:l=e.sent,i=l.data,t({type:"ORDER_CREATE_SUCCESS",payload:i}),t({type:"CART_CLEAR_ITEM"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:"ORDER_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,r){return e.apply(this,arguments)}}()))},disabled:0===e.cartItems.length},"Submit")))))))},pe=r(146),me=r(120);function de(){de=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(T){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new w(n||[]);return a(c,"_invoke",{value:S(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(R([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=_(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function _(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var fe=function(){var e,t=Object(u.T)().id,r=Object(u.O)(),o=Object(d.b)(),c=Object(d.c)(function(e){return e}),l=c.userLogin,m=c.orderDetails,f=c.orderPay,h=c.orderDeliver,E=m.order,y=m.loading,b=m.error,_=l.userInfo,L=f.loading,R=f.success,I=h.success,T=Object(a.useState)("Scan Code"),C=Object(O.a)(T,1)[0],x=Object(a.useState)(!1),k=Object(O.a)(x,2),U=k[0],D=k[1],N=Object(a.useState)(!1),F=Object(O.a)(N,2),M=F[0],Q=F[1],B=function(){Q(!1)};y||(E.itemsPrice=(e=E.orderItems.reduce(function(e,t){return e+t.price*t.qty},0),(Math.round(100*e)/100).toFixed(2)));Object(a.useEffect)(function(){var e,a=function(){var e=Object(v.a)(de().mark(function e(){var t,r,a;return de().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,console.log(r),(a=document.createElement("script")).type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(r),a.async=!0,a.onload=function(){D(!0)},document.body.appendChild(a);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();_||r("/login"),!E||E._id!==t||R||I?(o({type:"ORDER_PAY_RESET"}),o({type:"ORDER_DELIVER_RESET"}),o((e=t,function(){var t=Object(v.a)(oe().mark(function t(r,a){var n,o,c,l,i;return oe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DETAILS_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.get("/api/orders/".concat(e),c);case 6:l=t.sent,i=l.data,r({type:"ORDER_DETAILS_SUCCESS",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"ORDER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,r){return t.apply(this,arguments)}}()))):E.isPaid||(window.paypal?D(!0):a())},[o,t,E,R,r,_,I]);return y?n.a.createElement(P,null):b?n.a.createElement(G,{varaint:"danger"},b):n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Order No. ",E._id),n.a.createElement(s.a,null,n.a.createElement(p.a,{md:8},n.a.createElement(X.a,{variant:"flush"},n.a.createElement(X.a.Item,{className:"mt-3"},n.a.createElement("h4",null,"Shipping Address"),n.a.createElement("p",null,n.a.createElement("strong",{style:{fontWeight:"bold"}},"Receiver: "),E.user.name),n.a.createElement("p",null,n.a.createElement("strong",{style:{fontWeight:"bold"}},"Contact: "),n.a.createElement("a",{href:"milto:".concat(E.user.email)},E.user.email)),n.a.createElement("p",{style:{fontWeight:"bold"}},"Delivering Address"),n.a.createElement("span",null,E.shippingAddress.street,",",E.shippingAddress.apt,",",E.shippingAddress.city,",",E.shippingAddress.province,",",E.shippingAddress.postcode,",",E.shippingAddress.country,E.isDelivered?n.a.createElement(G,{variant:"success"},"Yes"):n.a.createElement(G,{variant:"danger"},"Not Deliver"))),n.a.createElement(X.a.Item,{className:"mt-3"},n.a.createElement("h4",null,"Payment"),n.a.createElement("p",null,"Method: ",E.paymentMethod),E.isPaid?n.a.createElement(G,{variant:"success"},E.paidAt):n.a.createElement(G,{variant:"danger"},"Need to pay")),n.a.createElement(X.a.Item,{className:"mt-3"},n.a.createElement("h4",{style:{marginBottom:"1rem"}},"Order Summary"),0===E.orderItems.length?n.a.createElement(G,{varaint:"info"},"Cart is Empty ",n.a.createElement(i.Link,{to:"/"},"Go back to Shopping")):n.a.createElement(X.a,{variant:"flush"},E.orderItems.map(function(e,t){return n.a.createElement(X.a.Item,{key:t},n.a.createElement(s.a,null,n.a.createElement(p.a,{md:2},n.a.createElement(A.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),n.a.createElement(p.a,{className:"mt-3"},n.a.createElement(i.Link,{to:"/products/".concat(e.product)},e.name)),n.a.createElement(p.a,{md:4,className:"mt-3"},e.qty," X ",e.price," = ",e.qty*e.price)))}))))),n.a.createElement(p.a,{md:4},n.a.createElement(j.a,null,n.a.createElement(X.a,{variant:"flush",className:"mt-3"},n.a.createElement(X.a.Item,null,n.a.createElement("h3",null,"Order Summary")),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Products Price"),n.a.createElement(p.a,null,"\uffe5",E.itemsPrice))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Shipping"),n.a.createElement(p.a,null,"\uffe5",E.shippingPrice))),n.a.createElement(X.a.Item,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,"Total:"),n.a.createElement(p.a,null,"\uffe5",E.totalPrice))),!E.isPaid&&"PayPal"===E.paymentMethod&&n.a.createElement(X.a.Item,null,L&&n.a.createElement(P,null),U?n.a.createElement(me.PayPalButton,{amount:E.totalPrice,onSuccess:function(e){console.log(e),o(function(e,t){return function(){var r=Object(v.a)(oe().mark(function r(a,n){var o,c,l,i,u;return oe().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"ORDER_PAY_REQUEST"}),o=n(),c=o.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},r.next=6,g.a.put("/api/orders/".concat(e,"/pay"),t,l);case 6:i=r.sent,u=i.data,a({type:"ORDER_PAY_SUCCESS",payload:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:"ORDER_PAY_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}},r,null,[[0,11]])}));return function(e,t){return r.apply(this,arguments)}}()}(t,e))}}):n.a.createElement(P,null)),!E.isPaid&&"Wechat"===E.paymentMethod&&n.a.createElement(X.a.Item,null,n.a.createElement(w.a,{type:"button",className:"btn-block",onClick:function(){Q(!0)},disabled:0===E.orderItems.length},"Check Out"),n.a.createElement(pe.a,{show:M,onHide:B},n.a.createElement(pe.a.Header,{closeButton:!0},n.a.createElement(pe.a.Title,null,"Order No. ",E._id)),n.a.createElement(pe.a.Body,null,n.a.createElement("p",null,"Total Price: \uffe5",E.totalPrice),n.a.createElement("p",null,"Payment Method: ",E.paymentMethod),n.a.createElement(s.a,null,n.a.createElement(p.a,{md:6,style:{textAlign:"center"}},n.a.createElement(A.a,{src:"/images/wechat.jpg"}),n.a.createElement("p",{style:{backgroundColor:"#00c800",color:"white"}},C)),n.a.createElement(p.a,null,n.a.createElement(A.a,{src:"/images/saoyisao.jpg"})))),n.a.createElement(pe.a.Footer,null,n.a.createElement(w.a,{variant:"primary",onClick:B},"Close")))),_&&_.isAdmin&&E.isPaid&&!E.isDelivered&&n.a.createElement(X.a.Item,null,n.a.createElement(w.a,{type:"btn",className:"btn-block",onClick:function(){o(function(e){return function(){var t=Object(v.a)(oe().mark(function t(r,a){var n,o,c,l,i,u;return oe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"ORDER_DELIVER_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.put("/api/orders/".concat(e._id,"/deliver"),{},c);case 6:l=t.sent,i=l.data,r({type:"ORDER_DELIVER_SUCCESS",payload:i}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),"Unauthorized"===(u=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&r(S()),r({type:"ORDER_DELIVER_FAIL",payload:u});case 16:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,r){return t.apply(this,arguments)}}()}(E))}}," Deliver")))))))},he=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e.userList}),r=t.loading,o=t.error,c=t.users;console.log(t);var l=Object(d.c)(function(e){return e.userLogin}).userInfo,i=Object(u.O)(),s=Object(d.c)(function(e){return e.userDelete}).success;Object(a.useEffect)(function(){l&&l.isAdmin?e(function(){var e=Object(v.a)(b().mark(function e(t,r){var a,n,o,c,l;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_LIST_REQUEST"}),a=r(),n=a.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.get("/api/users",o);case 6:c=e.sent,l=c.data,t({type:"USER_LIST_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"USER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,r){return e.apply(this,arguments)}}()):i("/login")},[e,l,i,s]);var p=function(t){window.confirm("are you sure")&&e(function(e){return function(){var t=Object(v.a)(b().mark(function t(r,a){var n,c,l;return b().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{r({type:"USER_DELETE_REQUEST"}),n=a(),c=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(c.token)}},g.a.delete("/api/users/".concat(e),l),r({type:"USER_DELETE_SUCCESS"})}catch(o){r({type:"USER_LIST_FAIL",payload:o.response&&o.response.data.message?o.response.data.message:o.message})}case 1:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}()}(t))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{marginBottom:"10px"}},"Users List"),r?n.a.createElement(P,null):o?n.a.createElement(G,{variant:"danger"},o):n.a.createElement(ne.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"isAdmin"),n.a.createElement("th",null))),n.a.createElement("tbody",null,c.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.email),n.a.createElement("td",null,e.isAdmin?n.a.createElement("i",{className:"fas fa-check",style:{color:"green"}}):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(y.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit")},n.a.createElement(w.a,{variant:"light",className:"btn-sm"},n.a.createElement("i",{className:"fas fa-edit"}))),n.a.createElement(w.a,{variant:"danger",className:"btn-sm",onClick:function(){return p(e._id)}},n.a.createElement("i",{className:"fas fa-trash"}))))}))))},Ee=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),r=t[0],o=t[1],c=Object(a.useState)(""),l=Object(O.a)(c,2),s=l[0],p=l[1],m=Object(a.useState)(!1),f=Object(O.a)(m,2),h=f[0],E=f[1],y=Object(d.b)(),S=Object(d.c)(function(e){return e.userDetails}),R=S.loading,I=S.error,T=S.user,C=Object(d.c)(function(e){return e.userUpdate}),j=C.loading,x=C.error,k=C.success,A=Object(u.T)().id,U=Object(u.O)();Object(a.useEffect)(function(){k?(y({type:"USER_UPDATE_REST"}),U("/admin/userlist")):T.name&&T._id===A?(o(T.name),p(T.email),E(T.isAdmin)):y(_(A))},[y,T,A,k,U]);return n.a.createElement("div",null,n.a.createElement(te,null,n.a.createElement(i.Link,{to:"/admin/userlist",className:"=/btn btn-dark my-3",style:{color:"blue"}},"Back"),n.a.createElement("h1",{style:{marginTop:"10px"}},"Edit User Info"),j&&n.a.createElement(P,null),x&&n.a.createElement(G,{variant:"danger"},x),R?n.a.createElement(P,null):I?n.a.createElement(G,{variant:"danger"},I):n.a.createElement(L.a,{onSubmit:function(e){var t;e.preventDefault(),y((t={_id:A,email:s,name:r,isAdmin:h},function(){var e=Object(v.a)(b().mark(function e(r,a){var n,o,c,l,i;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"USER_UPDATE_REQUEST"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},e.next=6,g.a.put("/api/users/".concat(t._id),t,c);case 6:l=e.sent,i=l.data,r({type:"USER_UPDATE_SUCCESS"}),r({type:"USER_DETAILS_SUCCESS",payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r({type:"USER_UPDATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,r){return e.apply(this,arguments)}}()))}},n.a.createElement(L.a.Group,{controlId:"name",className:"my-4"},n.a.createElement(L.a.Label,null,"Name: "),n.a.createElement(L.a.Control,{type:"name",placeholder:"please input name",value:r,onChange:function(e){return o(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"email",className:"my-4"},n.a.createElement(L.a.Label,null,"Email: "),n.a.createElement(L.a.Control,{type:"email",placeholder:"please input email",value:s,onChange:function(e){return p(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"isAdmin",className:"my-4"},n.a.createElement(L.a.Check,{type:"checkbox",label:"is admin",checked:h,onChange:function(e){return E(e.target.checked)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Update"))))},ye=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e}),r=t.productList,o=t.userLogin,c=t.productDelete,l=t.productCreate,i=r.loading,m=r.error,f=r.products,h=r.pages,E=r.page,b=o.userInfo,S=c.loading,_=c.error,O=c.success,L=l.loading,R=l.error,I=l.success,T=l.product,C=Object(u.O)(),j=Object(u.T)().pageNumber||1;Object(a.useEffect)(function(){e({type:"PRODUCT_CREATE_RESET"}),b.isAdmin||C("/login"),I?C("/admin/product/".concat(T._id,"/edit")):e(M("",j))},[e,C,b,T,O,I,j]);var x=function(t){window.confirm("are you sure")&&e(function(e){return function(){var t=Object(v.a)(F().mark(function t(r,a){var n,o,c;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DELETE_REQUESTS"}),n=a(),o=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.delete("/api/products/".concat(e),c);case 6:r({type:"PRODUCT_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:"PRODUCT_DELETE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,r){return t.apply(this,arguments)}}()}(t))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(s.a,null,n.a.createElement(p.a,null,n.a.createElement("h1",{style:{marginBottom:"10px"}},"Products")),n.a.createElement(p.a,{className:"text-right"},n.a.createElement(w.a,{className:"my-3 light",onClick:function(){e(function(){var e=Object(v.a)(F().mark(function e(t,r){var a,n,o,c,l;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUESTS"}),a=r(),n=a.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.post("/api/products",{},o);case 6:c=e.sent,l=c.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,r){return e.apply(this,arguments)}}())}},"Add product"))),L&&n.a.createElement(P,null),R&&n.a.createElement(G,{variant:"danger"},R),S&&n.a.createElement(P,null),_&&n.a.createElement(G,{variant:"danger"},_),i?n.a.createElement(P,null):m?n.a.createElement(G,{variant:"danger"},m):n.a.createElement(n.a.Fragment,null,n.a.createElement(ne.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"sm",style:{textAlign:"center",verticalAlign:"middle"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Category"),n.a.createElement("th",null,"Brand"),n.a.createElement("th",null))),n.a.createElement("tbody",null,f.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.name),n.a.createElement("td",null,"\uffe5",e.price),n.a.createElement("td",null,e.category),n.a.createElement("td",null,e.brand),n.a.createElement("td",null,n.a.createElement(y.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit")},n.a.createElement(w.a,{variant:"light",className:"btn-sm"},n.a.createElement("i",{className:"fas fa-edit"}))),n.a.createElement(w.a,{variant:"danger",className:"btn-sm",onClick:function(){return x(e._id)}},n.a.createElement("i",{className:"fas fa-trash"}))))}))),n.a.createElement(z,{page:E,pages:h,isAdmin:!0})))};function ve(){ve=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function i(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(T){i=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,c=Object.create(o.prototype),l=new w(n||[]);return a(c,"_invoke",{value:S(e,r,l)}),c}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}e.wrap=u;var p={};function m(){}function d(){}function f(){}var h={};i(h,o,function(){return this});var E=Object.getPrototypeOf,y=E&&E(E(R([])));y&&y!==t&&r.call(y,o)&&(h=y);var v=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;a(this,"_invoke",{value:function(a,o){function c(){return new t(function(n,c){!function a(n,o,c,l){var i=s(e[n],e,o);if("throw"!==i.type){var u=i.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){a("next",e,c,l)},function(e){a("throw",e,c,l)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,l)})}l(i.arg)}(a,o,n,c)})}return n=n?n.then(c,c):c()}})}function S(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return I()}for(r.method=n,r.arg=o;;){var c=r.delegate;if(c){var l=_(c,r);if(l){if(l===p)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var i=s(e,t,r);if("normal"===i.type){if(a=r.done?"completed":"suspendedYield",i.arg===p)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(a="completed",r.method="throw",r.arg=i.arg)}}}function _(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:d,configurable:!0}),d.displayName=i(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,i(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),i(b.prototype,c,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var c=new b(u(t,r,a,n),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},g(v),i(v,l,"Generator"),i(v,o,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=R,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return c.type="throw",c.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],c=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),i=r.call(o,"finallyLoc");if(l&&i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;L(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var ge=function(){var e=Object(u.T)().id,t=Object(d.b)(),r=Object(a.useState)(""),o=Object(O.a)(r,2),c=o[0],l=o[1],s=Object(a.useState)(0),p=Object(O.a)(s,2),m=p[0],f=p[1],h=Object(a.useState)(""),E=Object(O.a)(h,2),y=E[0],b=E[1],S=Object(a.useState)(""),_=Object(O.a)(S,2),R=_[0],I=_[1],T=Object(a.useState)(""),C=Object(O.a)(T,2),j=C[0],x=C[1],k=Object(a.useState)(0),A=Object(O.a)(k,2),U=A[0],D=A[1],N=Object(a.useState)(""),M=Object(O.a)(N,2),B=M[0],Y=M[1],V=Object(a.useState)(!1),z=Object(O.a)(V,2),W=z[0],J=z[1],q=Object(d.c)(function(e){return e}),H=q.productDetails,X=q.productUpdate,K=H.loading,Z=H.error,$=H.product,ee=X.loading,re=X.error,ae=X.success,ne=Object(u.O)();Object(a.useEffect)(function(){ae?(t({type:"PRODUCT_UPDATE_RESET"}),ne("/admin/productlist")):$.name&&$._id===e?(l($.name),f($.price),I($.brand),x($.category),b($.image),Y($.description),D($.countInStock)):t(Q(e))},[t,ne,e,$,ae]);var oe=function(){var e=Object(v.a)(ve().mark(function e(t){var r,a,n,o,c;return ve().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),J(!0),e.prev=4,n={headers:{"content-Type":"multerpart/form-data"}},e.next=8,g.a.post("/api/upload",a,n);case 8:o=e.sent,c=o.data,b(c),J(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),J(!1);case 18:case"end":return e.stop()}},e,null,[[4,14]])}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement(te,null,n.a.createElement(i.Link,{to:"/admin/productlist",className:"=/btn btn-dark my-3",style:{color:"blue"}},"Back"),n.a.createElement("h1",{style:{marginTop:"20px"}},"Edit Product"),ee&&n.a.createElement(P,null),re&&n.a.createElement(G,{variant:"danger"},re),K?n.a.createElement(P,null):Z?n.a.createElement(G,{variant:"danger"},Z):n.a.createElement(L.a,{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(v.a)(F().mark(function t(r,a){var n,o,c,l,i;return F().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_UPDATE_REQUESTS"}),n=a(),o=n.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.token)}},t.next=6,g.a.put("/api/products/".concat(e._id),e,c);case 6:l=t.sent,i=l.data,r({type:"PRODUCT_UPDATE_SUCCESS",payload:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:"PRODUCT_UPDATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,r){return t.apply(this,arguments)}}()}({_id:$._id,name:c,price:m,brand:R,image:y,countInStock:U,description:B,category:j}))}},n.a.createElement(L.a.Group,{controlId:"name",className:"my-4"},n.a.createElement(L.a.Label,null,"Name "),n.a.createElement(L.a.Control,{type:"name",placeholder:"please input product name",value:c,onChange:function(e){return l(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"image",className:"my-4"},W&&n.a.createElement(P,null),n.a.createElement(L.a.Label,null,"Image"),n.a.createElement(L.a.Control,{type:"file",controlId:"formFile",className:"mb-3 mt-3",label:"choose upload file",onChange:oe})),n.a.createElement(L.a.Group,{controlId:"price",className:"my-4"},n.a.createElement(L.a.Label,null,"Price "),n.a.createElement(L.a.Control,{type:"number",placeholder:"please input price",value:m,onChange:function(e){return f(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"brand",className:"my-4"},n.a.createElement(L.a.Label,null,"Brand "),n.a.createElement(L.a.Control,{type:"text",placeholder:"please input brand",value:R,onChange:function(e){return I(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"countInStock",className:"my-4"},n.a.createElement(L.a.Label,null,"CountInStock "),n.a.createElement(L.a.Control,{type:"number",placeholder:"please input countInStock",value:U,onChange:function(e){return D(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"category",className:"my-4"},n.a.createElement(L.a.Label,null,"Category "),n.a.createElement(L.a.Control,{type:"text",placeholder:"please input category",value:j,onChange:function(e){return x(e.target.value)}})),n.a.createElement(L.a.Group,{controlId:"description",className:"my-4"},n.a.createElement(L.a.Label,null,"Description "),n.a.createElement(L.a.Control,{type:"text",placeholder:"please input prouct details",value:B,onChange:function(e){return Y(e.target.value)}})),n.a.createElement(w.a,{type:"submit",variant:"primary",className:"my-4"},"Update"))))},be=function(){var e=Object(d.b)(),t=Object(u.O)(),r=Object(d.c)(function(e){return e}),o=r.orderList,c=r.userLogin,l=o.loading,i=o.error,s=o.orders,p=c.userInfo;return console.log(o),Object(a.useEffect)(function(){p&&p.isAdmin?e(function(){var e=Object(v.a)(oe().mark(function e(t,r){var a,n,o,c,l;return oe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_LIST_REQUEST"}),a=r(),n=a.userLogin.userInfo,o={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.get("/api/orders",o);case 6:c=e.sent,l=c.data,t({type:"ORDER_LIST_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,r){return e.apply(this,arguments)}}()):t("/login")},[e,p,t]),n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",{style:{marginBottom:"10px"}},"Orders List"),l?n.a.createElement(P,null):i?n.a.createElement(G,{variant:"danger"},i):n.a.createElement(ne.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",style:{textAlign:"center",verticalAlign:"middle"}},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"User"),n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Payment"),n.a.createElement("th",null,"Deliver"))),n.a.createElement("tbody",null,s.map(function(e){return n.a.createElement("tr",{key:e._id},n.a.createElement("td",null,e._id),n.a.createElement("td",null,e.user&&e.user.name),n.a.createElement("td",null,e.createdAt.substring(0,10)),n.a.createElement("td",null,"\uffe5",e.totalPrice),n.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,e.isDelivered?n.a.createElement("p",{style:{color:"green"}},"Delivered"):n.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),n.a.createElement("td",null,n.a.createElement(y.LinkContainer,{to:"/order/".concat(e._id)},n.a.createElement(w.a,{variant:"light",className:"btn-sm"},"Check"))))}))))};var Se=function(){return n.a.createElement(i.BrowserRouter,null,n.a.createElement(I,null),n.a.createElement("main",{className:"py-5"},n.a.createElement(l.a,null,n.a.createElement(u.j,null,n.a.createElement(u.g,{path:"/",element:n.a.createElement(H,null)}),n.a.createElement(u.g,{path:"/products/:id",element:n.a.createElement(K,null)}),n.a.createElement(u.g,{path:"/cart/:id?",element:n.a.createElement(ee,null)}),n.a.createElement(u.g,{path:"/login",element:n.a.createElement(re,null)}),n.a.createElement(u.g,{path:"/register",element:n.a.createElement(ae,null)}),n.a.createElement(u.g,{path:"/profile",element:n.a.createElement(ce,null)}),n.a.createElement(u.g,{path:"/shipping",element:n.a.createElement(ie,null)}),n.a.createElement(u.g,{path:"/payment",element:n.a.createElement(ue,null)}),n.a.createElement(u.g,{path:"/placeorder",element:n.a.createElement(se,null)}),n.a.createElement(u.g,{path:"/order/:id",element:n.a.createElement(fe,null)}),n.a.createElement(u.g,{path:"/admin/userlist",element:n.a.createElement(he,null)}),n.a.createElement(u.g,{path:"/admin/user/:id/edit",element:n.a.createElement(Ee,null)}),n.a.createElement(u.g,{path:"/admin/productlist",element:n.a.createElement(ye,null)}),n.a.createElement(u.g,{path:"/admin/productlist/:pageNumber",element:n.a.createElement(ye,null)}),n.a.createElement(u.g,{path:"/admin/product/:id/edit",element:n.a.createElement(ge,null)}),n.a.createElement(u.g,{path:"/admin/orderlist",element:n.a.createElement(be,null)}),n.a.createElement(u.g,{path:"/search/:keyword",element:n.a.createElement(H,null)}),n.a.createElement(u.g,{path:"/search/:keyword/page/:pageNumber",element:n.a.createElement(H,null)}),n.a.createElement(u.g,{path:"/page/:pageNumber",element:n.a.createElement(H,null)})))),n.a.createElement(m,null))},_e=r(68),Oe=r(122),Le=r(121),we=r(2),Re=Object(_e.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUESTS":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUESTS":return Object(we.a)({loading:!0},e);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,payload:t.payload};case"PRODUCT_DETAILS_RESET":return{product:{}};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var r=t.payload,a=e.cartItems.find(function(e){return e.product===r.product});return a?Object(we.a)({},e,{cartItems:e.cartItems.map(function(e){return e.product===a.product?r:e})}):Object(we.a)({},e,{cartItems:[].concat(Object(Y.a)(e.cartItems),[r])});case"CART_REMOVE_ITEM":return Object(we.a)({},e,{cartItems:e.cartItems.filter(function(e){return e.product!==t.payload})});case"CART_CLEAR_ITEM":return Object(we.a)({},e,{cartitems:[]});case"CART_SAV_SHIPPING_ADDRESS":return Object(we.a)({},e,{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(we.a)({},e,{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAIL":return{loading:!1,error:t.payload};case"USER_LOGINOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};case"USER_LOGINOUT":return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(we.a)({loading:!0},e);case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:[]};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,userInfo:t.payload,success:!0};case"USER_DEUPDATE_PROFILE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_PROFILE_RESET":return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,order:t.payload,success:!0};case"ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};case"ORDER_CREATE_RESET":return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(we.a)({},e,{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_REQUEST":return{loading:!0};case"ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{loading:!0};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0,data:t.payload};case"ORDER_PAY_FAIL":return{loading:!1,error:t.payload};case"ORDER_PAY_RESET":return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_MY_REQUEST":return{loading:!0};case"ORDER_LIST_MY_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_MY_FAIL":return{loading:!1,error:t.payload};case"ORDER_LIST_MY_RESET":return{orders:[]};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{loading:!0};case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USER_LIST_FAIL":return{loading:!1,error:t.payload};case"USER_LIST_REST":return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,success:!0};case"USER_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_REST":return{user:{}};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUESTS":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUESTS":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUESTS":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUESTS":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_REQUESTS":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_TOP_FAIL":return{loading:!1,error:t.payload};default:return e}}}),Ie=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Te=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ce={cart:{cartItems:Ie,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Te}},je=[Oe.a],xe=Object(_e.legacy_createStore)(Re,Ce,Object(Le.composeWithDevTools)(_e.applyMiddleware.apply(void 0,je)));r(125),r(127);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(d.a,{store:xe},n.a.createElement(Se,null)))},93:function(e,t,r){e.exports=r(130)}},[[93,2,1]]]);
//# sourceMappingURL=main.d87764a2.chunk.js.map